{{define "content"}}
<div class="flex flex-col md:flex-row justify-between items-center md:items-end mb-8 gap-4">
    <div class="text-center md:text-left">
        <h2 class="text-3xl text-gold drop-shadow-[0_2px_10px_rgba(251,191,36,0.3)]">ì „ì²´ ì˜ˆì•½ í˜„í™©</h2>
        <p class="text-slate-400 text-sm mt-1">ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ê°€ ê¸°ë¡ëœ ëª…ë¶€ì…ë‹ˆë‹¤.</p>
    </div>
</div>
<div class="flex flex-col justify-between items-end mb-8 gap-4">
    <a href="/reserve" class="group relative px-6 py-2.5 overflow-hidden rounded-full bg-slate-800 text-sm font-bold tracking-tighter transition-all">
        <span class="absolute inset-0 bg-gradient-to-r from-amber-500 to-yellow-400 opacity-80 group-hover:opacity-100 transition-opacity"></span>
        <span class="relative text-slate-900">+ ìƒˆ ì˜ˆì•½ ë“±ë¡</span>
    </a>
</div>

<!-- <div class="glass-card overflow-hidden shadow-2xl border-white/5">
    <div class="overflow-x-auto">
        <table class="w-full text-left border-collapse">
            <thead>
                <tr class="bg-white/5 text-amber-200/70 uppercase text-[12px] tracking-[0.2em] font-bold">
                    <th class="px-8 py-5">ìƒë‹´ì</th>
                    <th class="px-6 py-5">ìƒë‹´ ì¼ì‹œ</th>
                    <th class="px-6 py-5">íƒ€ë¡œ ì„¤ì •</th>
                    <th class="px-6 py-5">ìƒíƒœ</th>
                    <th class="px-6 py-5 text-right">ê´€ë¦¬</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-white/5">
                {{range .Reservations}}
                <tr class="hover:bg-white/5 transition-all group">
                    <td class="px-8 py-6">
                        <div class="flex items-center gap-3">
                            <a href="/reserve-detail/{{.Idx}}" class="text-slate-100 group-hover:text-amber-300 font-semibold transition-colors">
                                âœ¨ {{.UserName}}
                            </a>
                        </div>
                    </td>
                    
                    <td class="px-6 py-6">
                        <div class="text-sm text-slate-300">{{.ReservationDate}}</div>
                    </td>
                    
                    <td class="px-6 py-6">
                        <div class="flex flex-wrap gap-2">
                            <span class="px-2.5 py-0.5 bg-purple-500/20 text-purple-300 border border-purple-500/30 rounded-md text-[12px] font-bold uppercase tracking-wider">
                                {{.DeckName}}
                            </span>
                            <span class="px-2.5 py-0.5 bg-amber-500/20 text-amber-300 border border-amber-500/30 rounded-md text-[12px] font-bold tracking-wider">
                                {{if eq .WayToArray 1}} ì‹ ë…„ìš´ì„¸ {{else}} ê¸°ë³¸ ë°°ì—´ {{end}}
                            </span>
                        </div>
                    </td>

                    <td class="px-6 py-6">
                        <div class="flex flex-col">
                            <span class="text-s text-slate-400 mb-1">{{.SelectedCards}} / {{.AmountCards}} Cards</span>
                            {{if .EncKey}}
                            <a href="/select-cards/{{.EncKey}}" class="text-[12px] font-mono text-indigo-400 hover:text-indigo-300 truncate max-w-[100px]">
                                ì¹´ë“œì„ íƒğŸ«§
                            </a>
                            {{else}}
                            <span class="text-[10px] text-slate-600 italic">No Key</span>
                            {{end}}
                        </div>
                    </td>

                    <td class="px-6 py-6 text-right">
                        <form action="/delete-reservation/{{.Idx}}" method="POST" onsubmit="return confirm('ì´ ìš´ëª…ì˜ ê¸°ë¡ì„ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');" class="inline">
                            <button type="submit" class="p-2 text-slate-500 hover:text-red-400 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </button>
                        </form>
                    </td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="5" class="px-6 py-20 text-center text-slate-500 italic">
                        <div class="text-4xl mb-4">ğŸŒ‘</div>
                        ê¸°ë¡ëœ ìš´ëª…ì´ ì•„ì§ ì—†ìŠµë‹ˆë‹¤.
                    </td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div> -->

<div class="glass-card overflow-hidden shadow-2xl border-white/5">
    <div class="overflow-x-auto custom-scrollbar">
        <table class="w-full text-left border-collapse min-w-[650px]">
            <thead>
                <tr class="bg-white/5 text-amber-200/70 uppercase text-[12px] tracking-[0.2em] font-bold">
                    <th class="px-4 py-5">ìƒë‹´ì</th>
                    <th class="px-3 py-5">ìƒë‹´ ì¼ì‹œ</th>
                    <th class="px-4 py-5">íƒ€ë¡œ ì„¤ì •</th>
                    <th class="px-4 py-5">ìƒíƒœ</th>
                    <th class="px-3 py-5">ê´€ë¦¬</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-white/5">
                {{range .Reservations}}
                <tr class="hover:bg-white/5 transition-all group">
                    <td class="px-4 py-6">
                        <div class="flex items-center gap-2">
                            <a href="/reserve-detail/{{.Idx}}" class="text-slate-100 group-hover:text-amber-300 font-semibold transition-colors whitespace-nowrap">
                                âœ¨ {{.UserName}}
                            </a>
                        </div>
                    </td>
                    
                    <td class="px-3 py-6">
                        <div class="text-sm text-slate-300 whitespace-nowrap">{{.ReservationDate}}</div>
                    </td>
                    
                    <td class="px-4 py-6">
                        <div class="flex flex-wrap gap-1.5">
                            <span class="px-2 py-0.5 bg-purple-500/20 text-purple-300 border border-purple-500/30 rounded text-[11px] font-bold uppercase tracking-wider whitespace-nowrap">
                                {{.DeckName}}
                            </span>
                            <span class="px-2 py-0.5 bg-amber-500/20 text-amber-300 border border-amber-500/30 rounded text-[11px] font-bold tracking-wider whitespace-nowrap">
                                {{if eq .WayToArray 1}} ì‹ ë…„ìš´ì„¸ {{else}} ê¸°ë³¸ ë°°ì—´ {{end}}
                            </span>
                        </div>
                    </td>

                    <td class="px-4 py-6">
                        <div class="flex flex-col">
                            <span class="text-[12px] text-slate-400 mb-0.5 whitespace-nowrap">{{.SelectedCards}} / {{.AmountCards}} Cards</span>
                            {{if .EncKey}}
                            <a href="/select-cards/{{.EncKey}}" class="text-[11px] font-mono text-indigo-400 hover:text-indigo-300">
                                ì¹´ë“œì„ íƒğŸ«§
                            </a>
                            {{else}}
                            <span class="text-[10px] text-slate-600 italic">No Key</span>
                            {{end}}
                        </div>
                    </td>

                    <td class="px-4 py-6">
                        <form action="/delete-reservation/{{.Idx}}" method="POST" onsubmit="return confirm('ì´ ìš´ëª…ì˜ ê¸°ë¡ì„ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');" class="inline">
                            <button type="submit" class="p-1.5 text-slate-500 hover:text-red-400 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </button>
                        </form>
                    </td>
                </tr>
                {{else}}
                {{end}}
            </tbody>
        </table>
    </div>
</div>

<style>
/* ìŠ¤í¬ë¡¤ë°”ê°€ ë„ˆë¬´ íˆ¬ë°•í•˜ì§€ ì•Šê²Œ ë””ìì¸ ì¶”ê°€ */
.custom-scrollbar::-webkit-scrollbar {
    height: 6px;
}
.custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.02);
}
.custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(251, 191, 36, 0.2);
    border-radius: 10px;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(251, 191, 36, 0.4);
}
</style>

<div class="mt-10 flex items-center justify-between px-2">
    <div class="hidden sm:block">
        <p class="text-xs text-slate-500 tracking-wider">
            TOTAL <span class="text-amber-500 font-bold">{{.TotalCount}}</span> RECORDS
        </p>
    </div>
    <div class="flex gap-2">
        {{if .HasPrev}}
        <a href="?page={{.PrevPage}}" class="px-4 py-2 glass-card text-xs hover:border-amber-500 transition-all font-bold">PREV</a>
        {{end}}
        
        <div class="px-4 py-2 bg-amber-500/10 border border-amber-500/50 rounded-lg text-amber-400 text-xs font-bold">
            {{.CurrentPage}} / {{.TotalPage}}
        </div>

        {{if .HasNext}}
        <a href="?page={{.NextPage}}" class="px-4 py-2 glass-card text-xs hover:border-amber-500 transition-all font-bold">NEXT</a>
        {{end}}
    </div>
</div>
{{end}}